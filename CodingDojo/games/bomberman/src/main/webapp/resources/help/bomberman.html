<!--
  #%L
  Codenjoy - it's a dojo-like platform from developers to developers.
  %%
  Copyright (C) 2016 Codenjoy
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-3.0.html>.
  #L%
  -->
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Bomberman codenjoy — как играть? | Игры на работе</title>
    <link href="files/style.css" media="all" type="text/css" rel="stylesheet">
</head>
<body style="background-color: white;"
      class="single single-post postid-170 single-format-standard logged-in admin-bar singular one-column content customize-support">
<a target="_blank" href="https://github.com/codenjoyme"><img style="position: absolute; top: 0; right: 0; border: 0;z-index: 100;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
<div id="page" class="hfeed">
    <div id="main">
        <div id="primary">
            <div id="content" role="main">


                <header class="entry-header">
                    <h1 class="entry-title">Bomberman codenjoy — как играть?</h1>
                </header>

                <div class="entry-content">
                    <div class="page-restrict-output"><p>В принципе, игровой сервер доступен
                        сейчас в целях ознакомления <a href="/codenjoy-contest">
                            http://codenjoy.com/codenjoy-contest</a></p>
                        <p>В чем суть игры?</p>
                        <p>Надо написать своего бота для героя, который обыграет других
                            ботов по очкам. Все играют на одном поле. Герой может передвигаться
                            по свободным ячейкам во все четыре стороны.</p>
                        <p>Герой может так же поставить бомбу. Бомба взорвется через 5 тиков
                            (секунд). Взрывной волной бомбы можно зацепить обитателей поля.
                            Все, кто был задет - исчезает. Подорваться можно и на своей и на чужой бомбе. </p>
                        <p>На своем пути герой может повстречать митчопера - красный воздушный
                            шарик, уничтожающий на своем пути всех бомберменов.</p>
                        <p>Каждый разрушенный объект на поле (бомбермен, митчопер, разрушаемые стенки)
                            тут же восстанавлиается в другом месте. Если пострадал бомбермен,
                            ему зачисляются штрафные очки -50. </p>
                        <p>Бомбермен, от бомбы которого произошли разрушения на карте получит
                            бонусные очки: за разрушаемую стенку +10, за митчопера +100, за
                            другого бомбермена +1000. </p>
                        <p>Очки суммируются. Побеждает игрок с большим числом очков (до условленного
                            времени).</p>

                        <p>Итак, игрок <a href="/codenjoy-contest/register?gameName=bomberman" target="_blank">
                            регистрируется на сервере</a>, указывая свой email</p>
                        <p>Далее необходимо подключиться <a href="/codenjoy-contest/resources/user/bomberman-servers.zip">из кода</a>
                            к серверу через вебсокеты. Это Maven проект и подойдет он дял игры на JVM языках.
                            Как его запустить смотри в корне README.txt</p>
                        <p>Для других языков придется написать свой клиент (а после пошарить с нами на почту: apofig@gmail.com)</p>
                        <p>Адрес для подключения к игре на сервере http://codenjoy.com:</p>
                        <pre>ws://tetrisj.jvmhost.net:12270/codenjoy-contest/ws?user=email</pre>
                        <p>Адрес для подключения к игре на сервере, развернутом в локальной сети:</p>
                        <pre>ws://server_ip:8080/codenjoy-contest/ws?user=email</pre>
                        <p>Тут email - имейл, указанынй при регистрации на сервере.</p>
                        <p>После подключения клиент будет регулярно (каждую секунду) получать строку
                            символов — с закодированным состоянием поля. Формат таков</p>

                        <pre>^board=(.*)$</pre>
                        <p>с помощью этого regexp можно выкусить строку доски.
                            Вот пример строки от сервера:</p>
                        <pre>board=☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼ #   # #  #♥#  #  #  &        #☼☼♥☼♥☼♥☼#☼ ☼ ☼ ☼ ☼♥☼ ☼ ☼#☼#☼♥☼#☼#☼☼#♥♥  ♥#   # #♥   # ♥#          ☼☼ ☼ ☼#☼ ☼♥☼ ☼ ☼#☼ ☼ ☼ ☼ ☼&☼ ☼ ☼ ☼☼     ♥          # #            ☼☼ ☼ ☼ ☼ ☼♥☼ ☼ ☼♥☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼☼#       # #       ☺& 2  #  #  #☼☼#☼♥☼ ☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼ ☼ ☼☼#  # ♥#               # ♥   #  ☼☼ ☼ ☼#☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼☼   #♥ #      #                 ☼☼ ☼ ☼ ☼ ☼♥☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼☼     ## #     #   # #   ♥      ☼☼ ☼ ☼♥☼ ☼ ☼#☼ ☼#☼ ☼ ☼♥☼ ☼ ☼ ☼ ☼ ☼☼       #♥       #      ## # ###☼☼ ☼ ☼ ☼#☼ ☼ ☼#☼ ☼ ☼#☼#☼&☼ ☼ ☼ ☼ ☼☼       #       #    ♣# #     ♥ ☼☼ ☼ ☼ ☼♥☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼☼        ## ## ♥             # #☼☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼☼                   &    ###  ##☼☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼☼                   ♥ ##        ☼☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼♥☼#☼ ☼ ☼ ☼☼     ##         &#         #   ☼☼ ☼ ☼ ☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼ ☼ ☼ ☼☼   #   #         #     # &     ☼☼♥☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼#☼ ☼☼  #                    ##   &  ☼☼ ☼ ☼ ☼ ☼ ☼#☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼#☼ ☼☼ #    # &        #       #     ☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼</pre>
                        <p>Длинна строки равна площади поля. Если вставить символ переноса строки
                            каждые sqrt(length(string)) символов, то получится читабельное
                            изображение поля.</p>
                        <pre>☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼
☼ #   # #  #♥#  #  #  &        #☼
☼♥☼♥☼♥☼#☼ ☼ ☼ ☼ ☼♥☼ ☼ ☼#☼#☼♥☼#☼#☼
☼#♥♥  ♥#   # #♥   # ♥#          ☼
☼ ☼ ☼#☼ ☼♥☼ ☼ ☼#☼ ☼ ☼ ☼ ☼&☼ ☼ ☼ ☼
☼     ♥          # #            ☼
☼ ☼ ☼ ☼ ☼♥☼ ☼ ☼♥☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼
☼#       # #       ☺& 2  #  #  #☼
☼#☼♥☼ ☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼ ☼ ☼
☼#  # ♥#               # ♥   #  ☼
☼ ☼ ☼#☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼
☼   #♥ #      #                 ☼
☼ ☼ ☼ ☼ ☼♥☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼
☼     ## #     #   # #   ♥      ☼
☼ ☼ ☼♥☼ ☼ ☼#☼ ☼#☼ ☼ ☼♥☼ ☼ ☼ ☼ ☼ ☼
☼       #♥       #      ## # ###☼
☼ ☼ ☼ ☼#☼ ☼ ☼#☼ ☼ ☼#☼#☼&☼ ☼ ☼ ☼ ☼
☼       #       #    ♣# #     ♥ ☼
☼ ☼ ☼ ☼♥☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼
☼        ## ## ♥             # #☼
☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼
☼                   &    ###  ##☼
☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼
☼                   ♥ ##        ☼
☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼♥☼#☼ ☼ ☼ ☼
☼     ##         &#         #   ☼
☼ ☼ ☼ ☼#☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼ ☼ ☼ ☼
☼   #   #         #     # &     ☼
☼♥☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼ ☼#☼#☼ ☼
☼  #                    ##   &  ☼
☼ ☼ ☼ ☼ ☼ ☼#☼ ☼ ☼ ☼ ☼ ☼ ☼#☼ ☼#☼ ☼
☼ #    # &        #       #     ☼
☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼</pre>
                        <p>Первый символ строки соответствует ячейке расположенной в левом
                            верхнем углу и имеет координату [0, 0]. В этом примере — позиция
                            бомбермена (символ ☺) — [19,7].</p>
                        <p>Расшифровка символов на рисунке ниже</p>
                        <pre>public enum Element {

    /// This is your Bomberman
    BOMBERMAN('☺'),             // this is what he usually looks like
    BOMB_BOMBERMAN('☻'),        // this is if he is sitting on own bomb
    DEAD_BOMBERMAN('Ѡ'),        // oops, your Bomberman is dead (don't worry, he will appear
                                // somewhere in next move)
                                // you're getting -200 for each death

    /// this is other players Bombermans
    OTHER_BOMBERMAN('♥'),       // this is what other Bombermans looks like
    OTHER_BOMB_BOMBERMAN('♠'),  // this is if player just set the bomb
    OTHER_DEAD_BOMBERMAN('♣'),  // enemy corpse (it will disappear shortly, right on the next move)
                                // if you've done it you'll get +1000

    /// the bombs
    BOMB_TIMER_5('5'),          // after bomberman set the bomb, the timer starts (5 tacts)
    BOMB_TIMER_4('4'),          // this will blow up after 4 tacts
    BOMB_TIMER_3('3'),          // this after 3
    BOMB_TIMER_2('2'),          // two
    BOMB_TIMER_1('1'),          // one
    BOOM('҉'),                  // Boom! this is what is bomb does, everything that is destroyable
                                // got destroyed

    /// walls
    WALL('☼'),                  // indestructible wall - it will not fall from bomb
    DESTROY_WALL('#'),          // this wall could be blowed up
    DESTROYED_WALL('H'),        // this is how broken wall looks like, it will dissapear on next move
                                // if it's you did it - you'll get +10 points.

    /// meatchoppers
    MEAT_CHOPPER('&'),          // this guys runs over the board randomly and gets in the way all the time
                                // if it will touch bomberman - it will die
                                // you'd better kill this piece of ... meat, you'll get +100 point for it
    DEAD_MEAT_CHOPPER('x'),     // this is chopper corpse

    /// a void
    NONE(' ');                 // this is the only place where you can move your Bomberman</pre>
                        <p>Игра пошаговая, каждую секунду сервер посылает твоему клиенту (боту) состояние
                            обновленного поля на текущий момент и ожидает ответа команды герою.
                            За следующую секунду игрок должен успеть дать команду герою.
                            Если не успел — герой стоит на месте.</p>
                        <p>Команд несколько: UP, DOWN, LEFT, RIGHT – приводят к движению героя в
                            заданном направлении на 1 клетку; ACT - просверлить оставить бомбу на
                            месте героя. Команды движения можно комбинировать с командой ACT, разделяя
                            их через запятую. Порядок (LEFT, ACT) или (ACT, LEFT) - имеет значение,
                            либо двигаемся влево и там ставим бомбу, либо ставим бомбу а затем тикаем
                            влево. Если игрок будет использовать только одну команду ACT, то бомба
                            установится под героем без его перемещения на поле. </p>
                        <p>Первая задача – написать websocket клиента, который подключится к серверу.
                            Затем заставить героя слушаться команды. Таким образом, игрок подготовится
                            к основной игре. Основная задача – вести осмысленную игру и победить.</p>
                        <p>Сейчас реализованы клиенты для игры для некоторых языков программирования
                            (java, javascript, objective-c, c++, python, c#) Другие языки в процессе
                            написания (спасибо игрокам-активистам!).</p>
                        <p>Слишком много форы клиентский код не дает играющим, поскольку в этом коде
                            еще надо разобраться, но там реализована логика общения с сервером +
                            некоторое высокоуровневое апи для работы с доской (что уже приятно)</p>
                        <pre>Point getBomberman() — позиция моего бомбера на доске
Collection&lt;Point&gt; getOtherBombermans() — позиции всех остальных бомберов (противников) на доске
boolean isMyBombermanDead() — жив ли мой бомбер
boolean isAt(int x, int y, Element element) — находится ли в позиции  x, y заданный элемент?
boolean isAt(int x, int y, Collection&lt;Element&gt; elements) — находится ли в позиции  x, y что-нибудь из заданного набора
boolean isNear(int x, int y, Element element) — есть ли вокруг клеточки с координатой x,y заданный элемент
boolean isBarrierAt(int x, int y) — есть ли препятствие в клеточке x, y
int countNear(int x, int y, Element element) — сколько элементов заданного типа есть вокруг клетки с x, y
Element getAt(int x, int y) — возвращает элемент в текущей клетке
int boardSize() — возвращает размер доски
Collection&lt;Point&gt; getBarriers() — координаты всех объектов препятствующих движению
Collection&lt;Point&gt; getMeatChoppers() — координаты всех чудиков которые могут убить бомбера
Collection&lt;Point&gt; getWalls() — координаты всех бетонных стен
Collection&lt;Point&gt; getDestroyWalls() — координаты всех кирпичных стен (их можно разрушать)
Collection&lt;Point&gt; getBombs() — координаты всех бомб
Collection&lt;Point&gt; getFutureBlasts() — координаты потенциально опасных мест, где бомба может разорваться. (бомба взрывается на N {решим перед началом игры} клеточек в стороны: вверх, вниз, вправо, влево)
Тут:
Point  - координата x, y
Collection — набор нескольких объектов
Element — тип элемента на доске </pre>

                        <p>Игра с открытым исходным кодом. Для реализации своей игры, исправления
                            ошибок в текущей и внесения других правок необходимо для начала
                            <a href="https://github.com/codenjoyme">форкнуть проект</a>.
                            В корне репозитория есть описание в файле Readme.md - там описано, что делать дальше.</p>
                        <p>По возникающим вопросам, пиши в <a href="skype:alexander.baglay">skype:alexander.baglay</a>
                            или на почту <a href="mailto:apofig@gmail.com">apofig@gmail.com</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>